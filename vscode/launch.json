{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "inputs": [
        // Command Variable extension:
        // ext install rioj7.command-variable
        {
            "id": "TARGET_IPADDR",
            "type": "command",
            "command": "extension.commandvariable.file.content",
            "args": {
                "fileName": "${workspaceFolder}/.vscode/config.ini",
                "key": "TARGET_IPADDR",
                "default": "[UNKNOWN-TARGET_IPADDR]"
            }
        },
        {
            "id": "TARGET_IPPORT",
            "type": "command",
            "command": "extension.commandvariable.file.content",
            "args": {
                "fileName": "${workspaceFolder}/.vscode/config.ini",
                "key": "TARGET_IPPORT",
                "default": "[UNKNOWN-TARGET_IPPORT]"
            }
        },
    ],
    "configurations": [
        {
            "request": "launch",
            "name": "Deploy and Debug",
            "type": "go",
            "debugAdapter": "dlv-dap",
            "port": "${input:TARGET_IPPORT}",
            "host": "${input:TARGET_IPADDR}",
            "mode": "exec",
            "program": "/usr/bin/onvifd_debug",
            "args": [
                "-settings",
                "/root/onvifd.settings"
            ],
            "internalConsoleOptions": "openOnSessionStart",
			"preLaunchTask": "launch-deploy-debug",
            "console": "internalConsole",
        },
        {
            "request": "launch",
            "name": "Deploy and Execute",
            "type": "bashdb",
            "cwd": "${workspaceFolder}/.vscode/scripts/",
            "program": "${workspaceFolder}/.vscode/scripts/go-exe-stub.sh",
            "args": [],
            "internalConsoleOptions": "openOnSessionStart",
            "preLaunchTask": "launch-deploy-execute",
            //"showDebugOutput": true,
            "terminalKind": "integrated",
        },
        /*{
            "request": "launch",
            "name": "Deploy and Execute (CPP)",
            "type": "cppdbg",
            "cwd": "${workspaceFolder}/.vscode/scripts/",
            "program": "${workspaceFolder}/.vscode/scripts/go-exe-stub",
            "args": [],
            "internalConsoleOptions": "openOnSessionStart",
            "preLaunchTask": "launch-deploy-execute",
            "miDebuggerPath": "/usr/libexec/gdb"
        },
        {
            "name": "Local Launch Package",
            "type": "go",
            "request": "launch",
            "mode": "debug",
            "program": "${workspaceFolder}/cmd/onvifd/onvifd.go"
        }*/
    ],
}
